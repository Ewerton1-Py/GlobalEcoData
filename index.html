<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Contributions</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-boxplot@2.1.0"></script> <!-- For boxplot support -->

    <style>
        body { font-family: Arial, sans-serif; }
        .container { display: flex; justify-content: space-between; align-items: flex-start; }
        .form-container { width: 50%; padding-right: 20px; }
        #map { height: 500px; width: 50%; }
        .submit-button, .google-form-button {
            background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 5px;
            cursor: pointer; text-align: center; margin-top: 10px;
        }
        .filter-group {
            margin-bottom: 15px; /* Adds spacing between filters */
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px; /* Adds spacing between label and input */
        }
        select, input {
            width: 100%; /* Makes the dropdowns and inputs full width */
            padding: 8px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .filter-buttons {
            margin-top: 20px;
        }
        .submit-button, .google-form-button {
            width: 100%; /* Makes buttons full width */
            margin-top: 10px;
        }
        #chartContainer, #histogramContainer, #boxplotContainer { width: 100%; height: 400px; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Submit Your Research</h1>
    <p>Welcome to our research data repository. This platform aims to advance knowledge on environmental contaminants through collective contributions. Suggestions for further improvement are highly appreciated.</p>
    <h2>How to Use This Platform</h2>
    <p>Welcome! To explore data, please select from the filters provided and click "Load Approved Entries." You can filter by analyte, environment, year range, continent, and more. Only approved entries will display on the map and in the charts.</p>
    <p>If youâ€™d like to contribute, use the "Submit New Research Data" button. Your submission will be reviewed and approved by our team before it appears publicly on the platform.</p>
    <div class="container">
        <div class="form-container">
            <p>Select filters, then click to load data:</p>
            <div class="filter-group">
                <label for="analyte">Select Analyte:</label>
                <select id="analyte">
                    <option value="">All</option>
                    <option value="PAHs">PAHs</option>
                    <option value="Alkanes">Alkanes</option>
                    <option value="Sterols">Sterols</option>
                    <option value="Pesticides">Pesticides</option>
                    <option value="VOCs">VOCs</option>
                    <option value="PCBs">PCBs</option>
                    <option value="Microplastics">Microplastics</option>
                    <option value="PFAs">PFAs</option>
                    <option value="Synthetic Polymers">Synthetic Polymers</option>
                    <option value="Heavy Metals">Heavy Metals</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="environment">Select Environment:</label>
                <select id="environment">
                    <option value="">All</option>
                    <option value="Air and Atmospheric Deposition">Air and Atmospheric Deposition</option>
                    <option value="Surface Water">Surface Water</option>
                    <option value="Wastewater and Effluents">Wastewater and Effluents</option>
                    <option value="Biota">Biota</option>
                    <option value="Groundwater">Groundwater</option>
                    <option value="Suspended Particulate Matter">Suspended Particulate Matter</option>
                    <option value="Sediment">Sediment</option>
                    <option value="Soil">Soil</option>
                    <option value="Ice and Snow">Ice and Snow</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="yearStart">Start Year:</label>
                <input type="text" id="yearStart" placeholder="e.g., 2000">
            </div>
            <div class="filter-group">
                <label for="yearEnd">End Year:</label>
                <input type="text" id="yearEnd" placeholder="e.g., 2022">
            </div>
            <div class="filter-group">
                <label for="zone">Select Zone:</label>
                <select id="zone">
                    <option value="">All</option>
                    <option value="Frigid Zone">Frigid Zone</option>
                    <option value="Temperate Zone">Temperate Zone</option>
                    <option value="Tropics">Tropics</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="continent">Select Continent:</label>
                <select id="continent">
                    <option value="">All</option>
                    <option value="Africa">Africa</option>
                    <option value="Asia">Asia</option>
                    <option value="Europe">Europe</option>
                    <option value="North America">North America</option>
                    <option value="Oceania">Oceania</option>
                    <option value="South America">South America</option>
                    <option value="Antarctica">Antarctica</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="heatmapToggle">Show Heatmap</label>
                <input type="checkbox" id="heatmapToggle">
            </div>
            <div class="filter-buttons">
                <button id="loadEntries" class="submit-button">Load Approved Entries</button>
                <button onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSegI3XJK7z3rwhdezy1sz3P8It2OQSDL_x0f12BUMxDH8CkKg/viewform?usp=sharing', '_blank')" class="google-form-button">
                    Submit New Research Data
                </button>
            </div>
        </div>
        <div id="map"></div>
    </div>

    <div id="histogramContainer">
        <canvas id="concentrationHistogram"></canvas>
    </div>
    <div id="boxplotContainer">
        <canvas id="concentrationBoxplot"></canvas>
    </div>
</body>
</html>
