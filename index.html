<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Contributions</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-boxplot@2.1.0"></script>

    <style>
        body { font-family: Arial, sans-serif; }
        .container { display: flex; justify-content: space-between; align-items: flex-start; }
        .form-container { width: 50%; padding-right: 20px; display: flex; flex-direction: column; }
        #map { height: 500px; width: 50%; }
        .submit-button, .google-form-button {
            background-color: #4CAF50; /* Green color */
            color: white; 
            padding: 10px 20px; 
            font-size: 14px; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            text-align: center; 
            margin-top: 5px; 
            height: auto; 
            width: 300px; 
        }
        #chartContainer, #histogramContainer, #boxplotContainer { width: 100%; height: 400px; margin-top: 20px; }
        .filter-section { margin-bottom: 15px; }
    </style>
</head>
<body>
    <h1>Submit Your Research</h1>
    <p>Welcome to our research data repository. This platform aims to advance knowledge on environmental contaminants through collective contributions. Suggestions for further improvement are highly appreciated.</p>
    <div class="section">
        <h2>About This Platform</h2>
        <p>This platform enables researchers and contributors to share and explore data on environmental contaminants. Our mission is to foster collaboration and enhance understanding through open data sharing. Your contributions help advance research, education, and policymaking.</p>
    </div>
    <div class="section">
        <h2>Data Submission Guidelines</h2>
        <p>We accept submissions on various contaminants, including PAHs, Alkanes, Sterols, and more. Please ensure the accuracy of the data and provide detailed information. All submissions will undergo review before publication.</p>
    </div>
    <div class="section">
        <h2>Data Sources</h2>
        <p>The data displayed on this platform comes from trusted researchers and contributors worldwide. If you use this data, please credit this platform in your research or publications.</p>
    </div>
    <div class="section">
        <h2>How to Use This Platform</h2>
        <p>To explore data, use the filters below and click "Load Approved Entries." Filter by analyte, environment, year range, zone, or continent. You can also visualize the data on the map, view heatmaps, and analyze trends through charts.</p>
    </div>
    
    <div class="container">
        <div class="form-container">
            <div class="filter-section">
                <label for="analyte">Select Analyte:</label>
                <select id="analyte">
                    <option value="">All</option>
                    <option value="PAHs">PAHs</option>
                    <option value="Alkanes">Alkanes</option>
                    <option value="Sterols">Sterols</option>
                    <option value="Pesticides">Pesticides</option>
                    <option value="VOCs">VOCs</option>
                    <option value="PCBs">PCBs</option>
                    <option value="Microplastics">Microplastics</option>
                    <option value="PFAs">PFAs</option>
                    <option value="Synthetic Polymers">Synthetic Polymers</option>
                    <option value="Heavy Metals">Heavy Metals</option>
                </select>
            </div>
            <div class="filter-section">
                <label for="environment">Select Environment:</label>
                <select id="environment">
                    <option value="">All</option>
                    <option value="Air and Atmospheric Deposition">Air and Atmospheric Deposition</option>
                    <option value="Surface Water">Surface Water</option>
                    <option value="Wastewater and Effluents">Wastewater and Effluents</option>
                    <option value="Biota">Biota</option>
                    <option value="Groundwater">Groundwater</option>
                    <option value="Suspended Particulate Matter">Suspended Particulate Matter</option>
                    <option value="Sediment">Sediment</option>
                    <option value="Soil">Soil</option>
                    <option value="Ice and Snow">Ice and Snow</option>
                </select>
            </div>
            <div class="filter-section">
                <label for="yearStart">Start Year:</label>
                <input type="text" id="yearStart" placeholder="e.g., 2000">
            </div>
            <div class="filter-section">
                <label for="yearEnd">End Year:</label>
                <input type="text" id="yearEnd" placeholder="e.g., 2022">
            </div>
            <div class="filter-section">
                <label for="zone">Select Zone:</label>
                <select id="zone">
                    <option value="">All</option>
                    <option value="Frigid Zone">Frigid Zone</option>
                    <option value="Temperate Zone">Temperate Zone</option>
                    <option value="Tropics">Tropics</option>
                </select>
            </div>
            <div class="filter-section">
                <label for="continent">Select Continent:</label>
                <select id="continent">
                    <option value="">All</option>
                    <option value="Africa">Africa</option>
                    <option value="Asia">Asia</option>
                    <option value="Europe">Europe</option>
                    <option value="North America">North America</option>
                    <option value="Oceania">Oceania</option>
                    <option value="South America">South America</option>
                    <option value="Antarctica">Antarctica</option>
                </select>
            </div>
            <div class="filter-section">
                <label for="heatmapToggle">Show Heatmap</label>
                <input type="checkbox" id="heatmapToggle">
            </div>
            <button id="loadEntries" class="submit-button">Load Approved Entries</button>
            <button onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSegI3XJK7z3rwhdezy1sz3P8It2OQSDL_x0f12BUMxDH8CkKg/viewform?usp=sharing', '_blank')" class="google-form-button">
                Submit New Research Data
            </button>
        </div>
        <div id="map"></div>
    </div>



</head>
<body>
    <h1>Common Approach to Obtaining Ecological Data</h1>
    <div class="section">
        <h2>Rules for Selecting Sampling Locations</h2>
        <p>1. Identify Pollution Sources: Choose sites near known pollution sources (e.g., industries, landfills).</p>
        <p>2. Environmental Conditions: Consider factors like water flow and wind direction affecting contaminant spread.</p>
        <p>3. Representative Sites: Ensure locations represent overall conditions (urban vs. rural).</p>
        <p>4. Access and Safety: Select accessible and safe sites for sampling.</p>
        <p>5. Temporal Considerations: Account for seasonal variations in sampling times.</p>
        <p>6. Sampling Strategy: Use a systematic approach (random, stratified) for comprehensive data collection.</p>
        <p>7. Regulatory Compliance: Follow local guidelines for environmental sampling.</p>

        <h2>Rules for Selecting Sampling Locations</h2>
        <p>Sample Type: Choose the appropriate medium (water, sediment, biota) based on contaminants.</p>
        <p>Sample Size: Ensure adequate size for reliable analysis, considering detection limits and statistical requirements..</p>
        <p>Preservation: Use proper containers and methods to prevent contamination.</p>
        <p>Documentation: Record detailed information about each sample, including location, date, time, environmental conditions, and any relevant observations.</p>

        <h2>Techniques for Sampling in Surface Water</h2>
        <p>Grab Sampling: Collects a single sample at a specific time; easy but may not represent overall conditions.</p>
        <p>Composite Sampling: Combines multiple grab samples for a more representative analysis.</p>
        <p>Passive Sampling: Uses devices to absorb contaminants over time, reflecting average concentrations.</p>
        <h2>Techniques for Sampling in Sediment samples</h2>
        <p>Grab Sampling: Collects surface sediment using a grab sampler for quick assessments (e.g., Van Veen grab).</p>
        <p>Core Sampling: Extracts a core of sediment to analyze layers over time for historical data.</p>
        <h2>Techniques for Sampling in Biota Sampling</h2>
        <p>Direct Collection: Manually collects organisms using nets or traps.</p>
        <p>Tissue Sampling: Gathers specific tissues from organisms for contaminant analysis.</p>

        <p> Want to learn more about this topic, take a look at: "Tuit, C. B., and A. D. Wait. "A review of marine sediment sampling methods."Environmental Forensics 21.3-4 (2020): 291-309."; "Bhave, Prashant P., and Karan Sadhwani. "Sampling in environmental matrices: a critical review." Environmental Forensics 23.1-2 (2022): 75-92." "Prata, Joana Correia, et al. "Methods for sampling and detection of microplastics in water and sediment: A critical review." TrAC Trends in Analytical Chemistry 110 (2019): 150-159."  or "Mudroch, Alena, and José M. Azcue. Manual of aquatic sediment sampling. Crc Press, 1995."

    <h1>Data Analysis Techniques: PCA and Matrix Correlation</h1>
    <div class="section">
        <h2>Descriptive Statistics</h2>
        <p>Descriptive statistics provide a foundational understanding of contaminant data by summarizing key characteristics. Measures such as the mean (average), median (middle value), and mode (most frequent value) help identify central tendencies. Additionally, calculating the standard deviation and variance allows researchers to assess the variability and spread of contaminant concentrations, providing insights into the consistency of the data.</p>
        <h2>Inferential Statistics</h2>
        <p>Inferential statistics enable researchers to draw conclusions about a population based on sample data. For instance, t-tests compare the means of two groups—such as contaminant levels in polluted versus unpolluted sites—helping to determine if differences are statistically significant. Meanwhile, ANOVA (Analysis of Variance) is useful for comparing means across three or more groups, allowing for a broader understanding of how different environmental conditions affect contaminant concentrations.</p>
        <h2>Correlation Analysis</h2>
        <p>Correlation analysis examines the relationships between different variables, such as the concentration of various contaminants. Using Pearson or Spearman correlation coefficients, researchers can identify whether an increase in one contaminant is associated with an increase or decrease in another. This technique is vital for understanding interactions between contaminants and environmental factors.</p>
        <h2>Regression Analysis</h2>
        <p>Regression analysis helps to understand the relationship between a dependent variable (e.g., contaminant concentration) and one or more independent variables (e.g., environmental factors). This technique is particularly useful for predicting future contaminant concentrations based on current environmental conditions.</p>
        <h2>Multivariate Analysis</h2>
        <p>Multivariate analysis allows researchers to explore relationships between multiple variables simultaneously. This technique can help identify patterns and trends in complex data sets, such as the impact of multiple environmental factors on contaminant concentrations.</p>
        <h2>Time Series Analysis</h2>
        <p>Time series analysis helps to understand how contaminant concentrations change over time. This technique can provide valuable insights into trends, patterns, and potential future changes in contaminant levels.</p>
        <h2>Geostatistical Methods</h2>
        <p>Geostatistical methods are used to model spatial patterns of contaminant concentrations using statistical models. These methods can help to predict future contaminant levels based on current environmental conditions, and can also provide insights into the relationship between contaminants and environmental factors.</p>
       
    
    </div>
    
    <div class="section">
        <h2>Accessibility</h2>
        <p>This platform is designed with accessibility in mind. If you encounter any difficulties, feel free to reach out to us.</p>
    </div>
    <div class="section">
        <h2>Contact Us</h2>
        <p>Email: <a href="mailto:globalecodata@gmail.com">globalecodata@gmail.com</a></p>
    </div>
    
    <div id="histogramContainer">
        <canvas id="concentrationHistogram"></canvas>
    </div>
    <div id="boxplotContainer">
        <canvas id="concentrationBoxplot"></canvas>
    </div>

    <script>
        const SHEET_API_URL = 'https://script.google.com/macros/s/AKfycbyZKigN6pFCSAjj5js1p-zJW3P0FPlbHu8T-FfupmyeOaTLBDe1LC7obrrDyiYkylD9BA/exec';

        document.addEventListener('DOMContentLoaded', () => {
            const map = L.map('map').setView([20, 0], 2);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

            let markerGroup = L.featureGroup().addTo(map);
            let histogramChart, boxplotChart, heatmapLayer;
            let filteredData;

            document.getElementById('heatmapToggle').addEventListener('change', toggleHeatmap);
            document.getElementById('loadEntries').addEventListener('click', loadData);

            async function loadData() {
                try {
                    const response = await fetch(SHEET_API_URL);
                    const data = await response.json();
                    const newData = data.map(row => ({
                        coords: [parseFloat(row.Latitude), parseFloat(row.Longitude)],
                        title: row.PaperTitle,
                        analyte: row.Analyte,
                        environment: row.Environment,
                        concentration: parseFloat(row.Concentration),
                        year: parseInt(row.Year),
                        continent: row.Continent,
                        zone: determineZone(parseFloat(row.Latitude)), 
                        link: row.Link
                    }));
                    filterAndDisplayData(newData);
                } catch (error) {
                    console.error('Error loading data:', error);
                }
            }

            function determineZone(lat) {
                if (lat >= 66.5 || lat <= -66.5) return 'Frigid Zone';
                else if ((lat >= 23.5 && lat < 66.5) || (lat <= -23.5 && lat > -66.5)) return 'Temperate Zone';
                else return 'Tropics';
            }

            function filterAndDisplayData(data) {
                const selectedAnalyte = document.getElementById('analyte').value;
                const selectedEnvironment = document.getElementById('environment').value;
                const yearStart = parseInt(document.getElementById('yearStart').value);
                const yearEnd = parseInt(document.getElementById('yearEnd').value);
                const selectedZone = document.getElementById('zone').value;
                const selectedContinent = document.getElementById('continent').value;

                filteredData = data.filter(entry => {
                    return (!selectedAnalyte || entry.analyte === selectedAnalyte) &&
                           (!selectedEnvironment || entry.environment === selectedEnvironment) &&
                           (!isNaN(yearStart) ? entry.year >= yearStart : true) &&
                           (!isNaN(yearEnd) ? entry.year <= yearEnd : true) &&
                           (!selectedZone || entry.zone === selectedZone) &&
                           (!selectedContinent || entry.continent === selectedContinent);
                });

                clearMarkers();
                addMarkers(filteredData);
                // Call your chart plotting functions here if needed
                if (document.getElementById('heatmapToggle').checked) updateHeatmap(filteredData);
            }

            function clearMarkers() {
                markerGroup.clearLayers();
            }

            function addMarkers(entries) {
                entries.forEach(entry => {
                    const marker = L.marker(entry.coords)
                        .bindPopup(`<b>${entry.title}</b><br>Analyte: ${entry.analyte}<br>Environment: ${entry.environment}<br>Concentration: ${entry.concentration} µg/g<br>Year: ${entry.year}`);
                    markerGroup.addLayer(marker);
                });
                if (entries.length > 0) map.fitBounds(markerGroup.getBounds());
            }

            function updateHeatmap(data) {
                const heatmapData = data.map(entry => [entry.coords[0], entry.coords[1], entry.concentration]);
                if (heatmapLayer) map.removeLayer(heatmapLayer);
                heatmapLayer = L.heatLayer(heatmapData, { radius: 25, blur: 15, maxZoom: 5 }).addTo(map);
            }

            function toggleHeatmap() {
                if (filteredData && document.getElementById('heatmapToggle').checked) {
                    updateHeatmap(filteredData);
                } else if (heatmapLayer) {
                    map.removeLayer(heatmapLayer);
                }
            }
        });
    </script>
</body>
</html>
